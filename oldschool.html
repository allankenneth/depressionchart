<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Depression Graph</title>
  <meta name="description" content="Depression Graph: Keep track of your major depression inventories. Track, share, get better.">
  <meta name="author" content="Allan Haggett">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/bootstrap.min.css">

  <style>
  body {padding: 6em 0; position: relative;}
  label {color: #666; display: block;}
  .nav-link {padding: .3em;}
  .question {margin: 3em 0;}
  .questiontext {font-size: 1.6em; font-weight: 200; margin: 0 0 .5em 0;}
.bounce-top {
	-webkit-animation: bounce-top 0.9s both;
	        animation: bounce-top 0.9s both;
}
/* ----------------------------------------------
 * Generated by Animista on 2017-5-30 20:44:2
 * w: http://animista.net, t: @cssanimista
 * ---------------------------------------------- */

/**
 * ----------------------------------------
 * animation bounce-top
 * ----------------------------------------
 */
@-webkit-keyframes bounce-top {
  0% {
    -webkit-transform: translateY(-45px);
            transform: translateY(-45px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
    opacity: 1;
  }
  24% {
    opacity: 1;
  }
  40% {
    -webkit-transform: translateY(-24px);
            transform: translateY(-24px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  65% {
    -webkit-transform: translateY(-12px);
            transform: translateY(-12px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  82% {
    -webkit-transform: translateY(-6px);
            transform: translateY(-6px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  93% {
    -webkit-transform: translateY(-4px);
            transform: translateY(-4px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  25%,
  55%,
  75%,
  87% {
    -webkit-transform: translateY(0px);
            transform: translateY(0px);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  100% {
    -webkit-transform: translateY(0px);
            transform: translateY(0px);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
    opacity: 1;
  }
}
@keyframes bounce-top {
  0% {
    -webkit-transform: translateY(-45px);
            transform: translateY(-45px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
    opacity: 1;
  }
  24% {
    opacity: 1;
  }
  40% {
    -webkit-transform: translateY(-24px);
            transform: translateY(-24px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  65% {
    -webkit-transform: translateY(-12px);
            transform: translateY(-12px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  82% {
    -webkit-transform: translateY(-6px);
            transform: translateY(-6px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  93% {
    -webkit-transform: translateY(-4px);
            transform: translateY(-4px);
    -webkit-animation-timing-function: ease-in;
            animation-timing-function: ease-in;
  }
  25%,
  55%,
  75%,
  87% {
    -webkit-transform: translateY(0px);
            transform: translateY(0px);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
  }
  100% {
    -webkit-transform: translateY(0px);
            transform: translateY(0px);
    -webkit-animation-timing-function: ease-out;
            animation-timing-function: ease-out;
    opacity: 1;
  }
}
.fade-in {
	-webkit-animation: fade-in 1.2s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
	        animation: fade-in 1.2s cubic-bezier(0.390, 0.575, 0.565, 1.000) both;
}

/**
 * ----------------------------------------
 * animation fade-in
 * ----------------------------------------
 */
@-webkit-keyframes fade-in {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}
@keyframes fade-in {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

  </style>
</head>
<body class="fade-in">

  <nav id="inventory-questions" class="navbar fixed-top navbar-light bg-faded">
    <span class="navbar-brand">Depression Graph</span>
  </nav>
<div class="container">
<div class="jumbotron">
<a href="questionnaire.html" class="bounce-top btn btn-primary btn-lg btn-block">Answer Questionnaire</a>

<div id="chart"></div>
<div class="results"></div>
</div>
<div class="row">
    <div class="col-sm-12">
<h1>Depression <em>Graph</em>?</h1>
<!--Depression Graph is an application written by me as a side-project to help me learn the Python programming language and to help with my own depression. I'm a front-end web developer by trade, and this project seemed natural.
-->
<p>This app is still in <em>very</em> early development...</p>
<p>When Depressgion Graph is fully-developed it will allow you to store <a href="#">Major Depression Inventory</a> questionnaire results and plot your progress on a timeline. This will allow you to get sense of the direction of your treatment and give you and your doctor consistent information to work with. Until then, you can at least <a href="questionnaire.html">take the test</a> and get results.</p>
<p>The code is open-source <a href="https://github.com/allankenneth/depressiongraph2" class="">on Github</a>, and there are no advertising trackers present on this site anywhere.</p>
<p>Depression Graph is <a href="https://allankenneth.com">made by Allan</a>.</p>
    </div>
    <div class="col-sm-12">
<hr>
<!--<h2>Graph.</h2>
<p>Each of your inventories is archived, its score graphed on a chart. Watch your progression over time and help determine the course of your treatment.</p>
<h2>Share.</h2>
<p>Email the results of individual tests to whomever you choose, including your doctor or loved ones; help them help you.</p>
<h2>Get Better.</h2>
<p>Having a stable reminder of your progress can help bolster confidence in your treatment, and maybe even help speed it along.</p>-->
<h1>Major Depression Inventory?</h1>
<blockquote class="blockquote">

<p><cite><a href="https://en.wikipedia.org/wiki/Major_Depression_Inventory">Wikipedia</a></cite> says it well:</p>
<p>The Major Depression Inventory (MDI) is a self-report mood questionnaire developed by the World Health Organization. The instrument was constructed by a team led by Professor Per Bech, a psychiatrist based at Frederiksborg General Hospital in Denmark.[1] The MDI differs from many other self-report inventories, such as the Beck Depression Inventory (BDI), because it is able to generate an ICD-10 or DSM-IV diagnosis of depression in addition to an estimate of symptom severity.</p>
</blockquote>
<p>Note that in this early form, Depression Graph is not yet returning a DSM-IV diagnoses; this feature is not working correctly yet. A summative score and diagnoses is our starting point.</p>
</div>
<div class="row">
    <div class="col">
</div>
</div>
</div> <!-- /.container -->
<hr>
<script src="/jquery.min.js"></script>
<script src="/tether.min.js"></script>
<script src="/bootstrap.min.js"></script>
<script src="/pouchdb.min.js"></script>
<script src="/d3.v3.js"></script>
<script src="/rickshaw.min.js"></script>


<script>

</script>
<script>
$(document).ready(function(){

var html = '<table class="table"><tr><th></th><th>Date</th><th>Score</th><th>Diagnoses</th></tr>';
var count = 0;
var previnventories = [];
var db = new PouchDB('inventories');
db.allDocs({include_docs: true, descending: true}, function(err, doc) {
	doc.rows.forEach(function(e,index){
		d = new Date(parseInt(e.doc['date']));
		html += '<tr><td><a href="#'+parseInt(e.doc['date'])+'" class="invdel">x</a></td>';
		html += '<td>' + d + '</td><td>' + e.doc['score'] + '</td><td>' + e.doc['diagnoses'] + '</td></tr>';
		previnventories.push({x: parseInt(e.doc['date']), y: e.doc['score']});
		count++;
	});
	html += '</table>';
	if(count==0) html = '';
	$('.results').html(html);
	inventories = JSON.stringify(previnventories);
	inventories = inventories.replace(/\"([^(\")"]+)\":/g,"$1:");
	console.log(inventories);
/*
	var graph = new Rickshaw.Graph( {
				element: document.querySelector("#chart"), 
				width: 500, 
				height: 200, 
				renderer: 'line',
				series: [{
					color: 'steelblue',
					data: inventories
				}]
	});
	graph.render();
	var xAxis = new Rickshaw.Graph.Axis.Time({
	    graph: graph
	});
	xAxis.render();
*/
});
/*		data: [ 
		    { x: 0, y: 40 }, 
		    { x: 1, y: 49 }, 
		    { x: 2, y: 38 }, 
		    { x: 3, y: 30 }, 
		    { x: 4, y: 32 } ]
*/

$('.invdel').on('click',function(e){
	e.preventDefault();
	console.log('hey');
	mydoc = $(this).attr('href');
	db.get('mydoc').then(function (doc) {
	  return db.remove(doc);
	});

});

});
</script>
</body>
</html>
